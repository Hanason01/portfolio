# portfolio

## サービス概要
「お題」をもとに、録音した短い音声を組み合わせて、誰でも簡単に仲間とコラボ作品を創れるCGM型の音声合成サービスです。アイデアを集結させてオリジナルソングや曲を作ったり、ノリで創る笑えるモノまで、自己表現を組み合わせて唯一無二のコラボ作品を創り、世界へ発信できます。

## このサービスへの思い・作りたい理由
- 学生時代から、楽器を持ち寄り仲間とバンド活動をしたり即興セッションをしたり、講師としてレッスンをしたり、長く音楽を趣味としてきました。
- 音楽は一人でする以外にも「共に何かを創る」喜びがあります。しかし、楽器が弾けない、歌が歌えない、人前で演奏できるレベルではない、などの理由で他人に表現するのは少しハードルが高いようにも思えます。
- 私が音楽を長く続けている理由には「鍛錬・練習」ではなく「遊び」があり、楽しく遊ぶために鍛錬があると考えています。音楽を始めたての人は「鍛錬・練習」から入り、純粋に音楽を遊んで楽しむという原体験が不足していることが多く、途中でやめてしまうのはもったいないと感じていました。
- 音楽系のクリエイティブなコンテンツは、遊ぼうとするだけでもある程度の知識やスキルが求められます。初心者や素人でも遊び感覚で楽しめ、共に創りあげる喜びを得られるサービスを作りたいと思い、発案に至りました。

## ユーザー層について
1. **カラオケで歌ったり、遊びで楽器が少しできるなど音楽が好きな素人層**
   - 音声合成にあたっては、機能をスリムかつ録音時間を短くしており、音楽的な知識や合成の予備知識がなくても、素人でも簡単に音声合成が行えます。
   - 長尺のものやDAWのような高度な音楽制作機能はないため、玄人には向きません。

2. **誰かと何かを作るのが好きで、それを発信・共有したい人**
   - 誰かと音声作品を作るだけでなく、それを発信したいという人のためにSNS型にしており、独自の文化やコミュニティ生成を促します。

3. **遊び心を持ち、新しい事に興味がある10代〜20代後半の若年層**
   - 当サービスのコンテンツは友達や仲間とイノベーションや化学反応を起こすものでもあります。新しく面白いものに興味があり、比較的友達や仲間と遊ぶ頻度が高く、発想力豊かな若者世代を対象にしています。

## サービスの利用イメージ
1. **コラボ発案**
   - 「お題」という形で、作品のコンセプトや長さ、テンポ、公開範囲、コラボ人数などを指定し、初期音声（ギターでコードを弾いたり、リズムを刻んだり、他）が必要であれば録音して投稿します。
   - 例: 「スピッツのロビンソン（歌募集！ギター伴奏あり）」、「歌うので、伴奏つけてください！」、「打楽器だけでセッション（楽器じゃなくても可）」、「木魚叩くのでお経お願いします」、「みんなの飼い犬の声で合唱させよう」、「ディズニーのモノマネ（BGMとミッキーはやります、他お願いします）」、「○○ちゃんへの誕生日おめでとうの合唱（限定公開）」「○○さんへの応援エール（限定公開）」
>音楽制作という点をコンセプトにはしていますが、様々な面白いアイデアが出てくる文化も、開発者としては後押ししたいと考えています。

2. **応募**
   - その「お題」を見た、あるいは招待されたユーザーは応募者として、その音声データに合わせる形で録音し、発案者にリクエストを送ります。
   - 発案者がリクエストを承諾し、音声合成を行えば、発案元の音声が更新され、コラボが完了します。

3. **音声合成と共有**
   - 音声合成が完了し、募集締め切りします。締め切り前後に関わらず、他SNSに共有したり、リンクを送ったりして他者に共有することができます。音声合成については、複数の音声データを数珠繋ぎに結合するのではなく、重ね合わせていく形で合成されます。

>高度な技術や音楽的な知識がなくても、誰でも簡単にコラボ作品を作る事ができ、共に音楽を創る体験を提供します。また「お題」については発案者に任せられており、個性的なアイデアを形にし、それをより多くの人に聞いてもらう機会が生まれ、自己表現の場としても価値を提供します。

## ユーザーの獲得について
1. **音楽の初心者向けに特化**
   - 初心者であっても、予備知識なく、直感的にコラボ作品を創れるように、機能を簡素化し、「お題」→「募集」→「合成」までの動線をわかりやすくする事で、最短で音楽の「遊び」の体験ができるようにします。

2. **外部SNSでの共有**
   - 面白い作品ができた際に、外部SNSで共有できたり、ファイルをエクスポートできるようにして拡散力を上げます。

3. **コンテンツの充実**
   - 全体のコンテンツの量を充足させ、Hotなコラボ作品についてはランキングに表示させるなど、アプリ内で「流行」を見える化し、作品に参加するだけでなく見る・聴くだけでも楽しめるようにします。アプリの新しい使い方が生まれた場合、運営者としてSNS上で発信する事で「飽き」のないように、ユーザーの定着を目指します。

## サービスの差別化ポイント・推しポイント
- 既存サービスでは、本格的な音楽制作に必要な高度な機能が揃っており、まず使い方を覚える必要があり、初心者にはハードルが高い傾向があります。また、既存サービスは共同制作をサブ的な機能と位置付けているものや、「ミュージシャン同士で、良い音楽を作れる」ような趣旨でサービスを展開しています。
- 本サービスでは、「初心者でもすぐに利用、コラボできる」事をメインの目的とし、以下の点で差別化を図ります。
  - シンプルな機能で、初心者でも直感的に操作できる。
  - 音声の長さを短くし、初心者が取り組むハードルを下げる。また、秒数の制約を付ける事で他ユーザーからのエンゲージメント、フィードバックを受けやすくしたり、即興性や革新的なコンテンツが生まれやすくする。
  - 短期間で多くの革新的なコラボ作品を生み出し、飽きないアプリケーションを提供。

## 機能候補

### MVPリリース
- **トップページ**
  - アプリの説明・作品サンプル
- **ユーザー登録**
  - メールアドレス・パスワード・ニックネーム・ユーザーネーム
  - パスワードリセット機能
  - 開発側の権限管理（トップ・投稿一覧の表示のみ登録不要）
- **プロフィール機能**
  - 基本的なプロフィール機能（アイコン・ニックネーム・自己紹介）
- **投稿一覧機能**
  - 投稿者・タイトル・概要・現在の参加数の表示
  - 音声表示（プレビューにするか、遅延読み込みにするかなど未定）
  - ユーザーページ（特定のユーザーに紐づいた投稿一覧ページ）
  - Xへの共有リンク
- **投稿機能（投稿画面）**
  - 基本的なCRUD
  - タイトル・概要・秒数・テンポ設定
  - 公開・限定公開・下書きステータス
- **録音機能（投稿、応募時と、一部合成時に）**
  - 録音・再生機能
  - 投稿音声の再生と応募録音を同時に行う
  - 投稿音声と応募音声の同時再生
  - 簡易なエフェクト（音量調整、リバーブ等）
- **応募機能（応募画面）**
  - 基本的なCRUD
  - 指定した投稿に紐付け・任意のコメント
- **音声合成機能（合成画面）**
  - 応募音声の再生・ユーザー・コメント等の表示
  - 応募の合成機能
  - 応募の不承認機能（コメント有の場合は応募者に通知）
- **フィード**
  - いいね、ブックマーク、コメント
- **お問い合わせフォーム**

### 本リリース
- **ユーザー登録**
  - Google認証API
- **プロフィール機能**
  - フォロー機能
  - フレンド登録機能（公開範囲をフレンドに限定可能にする）
- **投稿一覧機能**
  - ランキング表示機能（基準未定）
  - 検索機能（投稿・ユーザー）
  - カテゴリー検索機能
- **投稿機能**
  - 公開範囲にフレンドを指定可能
- **録音機能**
  - フィードバック状況を見て、録音時のエフェクト等追加
  - 録音テイクのブラウザメモリへの保持（最終的には一つ選択してDB保存）
- **音声合成機能**
  - 音声のエクスポート

> ※最低限の機能をMVPで、本リリースでは拡散フェーズとし、「コミュニティ機能の強化」とユーザーからのフィードバックの反映を趣旨とします。

### 将来的に
- **ユーザー登録**
  - Apple認証API
- **録音機能**
  - 音声ファイルアップロード
  - MIDI入力から録音
  - ライン入力で録音
  - 録音したものを都度エクスポート可能（使い回し用）
- **PWA化**
- **ブラウザで鳴らせる簡易的な楽器機能**
- **ループサウンド素材の導入**
- **音声処理やエフェクトの高度化（ユーザー層の拡大）**
- **楽器や音声処理機能をWASMで実装できないか検討**

> ※マネタイズを考慮した場合、アップセル目的に以下も将来的に検討
> - 取り扱いできる秒数上限増加
> - エクスポートできる音声ファイル形式をWAV等の非圧縮フォーマット、ビットレート等をで選択可（音質向上）
> - 合成履歴管理（合成前の音声ファイルを保持し、巻き戻し可能に）

## 機能の実装方針予定
### ① 録音および再生・エフェクト
- **WebAudioAPI**を使用します。多くのモダンブラウザでサポートされており、互換性が高いです。
- 録音形式がデフォルトで非圧縮音声のPCM形式であり、エフェクト処理に適しているため選定。
- 録音に特化したAPIを組み合わせる方法もありますが、非圧縮形式を十分にサポートできていないため、WebAudioAPIのみで実装します。

### ② 録音データの音声方式変換
- **ffmpeg.jsライブラリ**を使用します。
  - 音声ファイル30秒につき、音声形式によりサイズが異なります（非圧縮形式PCM：約2.6MB、可逆圧縮形式FLAC：約1.5MB、非可逆圧縮方式MP3：約0.5MB）。
  - ①のようなエフェクト処理等をかける場合は、非圧縮方式以外だとひどい音質劣化に繋がる他、音声合成時は必ずデコード処理が必要である為、音声処理時は非圧縮方式で音声データを取り扱います。
  - 録音や音声処理の作業はPCM形式でブラウザのメモリに保持、作業終了後はメモリ解放→可逆圧縮方式FLACへ変換しDBに保存します。プロジェクト終了と同時に完成品以外は削除されますが、合成に使用する各ユーザーの音声ファイルはプロジェクト中はDBに保持します。リソースの節約の為、圧縮をした上でDBに保存行います。
  - コラボ終了時は非可逆圧縮方式へ変換を行い、ファイルサーバーに保存します。

>つまり、募集→応募→合成→終了の流れの中で終了以外の部分ではいつでも非圧縮方式に戻せる状態（可逆圧縮方式）でDBに保持し、かつリソースを節約する必要がある為、必然的に音声形式の変換が頻繁に起こります。『ffmpeg.js』は元はネイティブの変換アプリを移植したもので、内部的にはWASMで実装されており、処理速度が非常に高速、かつこのライブラリは幅広い音声形式に対応しており、上記3つの変換およびデコードをこれ一つで行えます。
従来のJSライブラリでは30秒の音声データを変換する場合、目安「5〜10秒程度」かかるが、このライブラリでは目安「数百ミリ秒〜1秒程度」で変換が終了します。

### ③ Google認証API
- ユーザー登録をより簡単に行えるように、Google認証APIを導入。登録の障壁を低くします。

### ④ React
- SNSと同時にツール的な要素も絡んでくるため、素早い画面遷移（SPA化）、スムーズな操作感、モダンなUIを実現するために、APIモードのRailsを基盤にして、フロントをReactで実装します。
